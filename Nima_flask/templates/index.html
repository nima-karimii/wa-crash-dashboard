<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>WA Crash Dashboard</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"> -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css')}}">
  <script src="{{ url_for('static', filename='js/d3/d3.js')}}"></script>
  <script src="{{ url_for('static', filename='js/d3-balloon.js')}}"></script>


</head>

<body style="background-color: aliceblue;">

  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-4">WA Crash Dashboard</h1>
      <p class="lead"> Visualising West Australian road crash data</p>
    </div>
</div>

<div class="container-fluid">
  <div class="row summary">
    <!-- <div class="col-6" style="background-color: aquamarine;"> -->
    <div class="col-6">
      <p> Road crashes are a leading cause of death and serious injury in Western Australia, impacting thousands of people every year. 
      </p>
      <p>
       The <i>Western Australian Crash Dashboard</i> is an interactive dashboard exploring road crash data in Western Australia from 2015 to 2019.
      </p>
    </div>
    <!-- <div class="col-6" style="background-color: grey;"> -->
    <div class="col-6">
      <p>
        The aim of the dashboard is to highlight road safety issues and trends, including the geographic location of crashes, when crashes occur (by day of the week and time of day) and a breakdown of crashes by type of vehicle involved.
      </p>
        <p>
        Data has been sourced from the <a href="https://portal-mainroads.opendata.arcgis.com/datasets/cd0b2ef39c6e4e71b1aa922942d316cc_2">Crash Information (Last 5 Years) dataset</a> published by Main Roads Western Australia.
      </p>
      </div>
  </div>
</div>


<div class="container-fluid" id="filter-box">
  <div class="row controls">

      <div class="col-6">
      <label for="data">Filter by year:</label>
       
        <select name="data" id="filter" onchange="optionChanged(this.value)">
          <option value="2015">2015</option>
          <option value="2016">2016</option>
          <option value="2017">2017</option>
          <option value="2018">2018</option>
          <option value="2019" selected>2019</option>
        </select>
       </div>
    <!-- </div> -->
    <!-- <div class="col-6" style="background-color: lightskyblue;"> -->
    <div class="col-3">
      <label for="data"> Total number of crashes:  </label>
    </div>
      <div class="col-3">
        <div id="total-crashes">?  </div>
    </div>
    </div>  
  </div>
</div>      


<div class="container-fluid">
    <div class="row">

      <div class="col-3">
        <table>
          <tr><td style="text-align: center; border: none">
            <iframe class="responsive-iframe" src="\MAP" width=750 height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
          </td></tr>
        </table>
     </div>

     <div class="col-6">
      <div class="row">
        <div class="col-3" >  
          <div class=" card text-white bg-secondary  mb-3">
            <h5 class="card-header"><b>SUMMARY</b></h5>
          <div id="sample-metadata" class="card-title" ></div>
          </div>
          </div>

      <div class="col-9">
        <div id="heatmap">  </div>
      </div>
    </div>
      <div class="row">
      <div class="col-12">
        <div id="Barchart2"> </div>
      </div></div>
    </div>
      <div class="col-3">
        <div class="row"> 
          <div id="vis_container"></div>
          </div>
        </div>
  
   
    </div>

      <!-- <div class="col-6">
          <div id="heatmap">
          </div>
      </div> -->
     </div>  
      
    <div class="row">    

      <div class="col-12">
        <div id="heatmap">  </div>
      </div>
    </div>
     
    <div class="row">    

      <div class="col-12">
        <div id="Barchart2"> </div>
      </div>
    </div>

</div>


  <div class="hidden_display"><div id="map" ></div></div>
  
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

     <!--D3 cdn-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="{{ url_for('static', filename='js/barchart.js') }}"></script>
  <script src="{{ url_for('static', filename='js/balloon_chart.js')}}"></script>
  <script src="{{ url_for('static', filename='js/map.js') }}"></script>

</body>

</html>
